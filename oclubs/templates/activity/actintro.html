{% extends "base.html" %}
{% block title %}{{ g.activity.name }}{% endblock %}
{% block content %}
{% with messages_signup = get_flashed_messages(category_filter=["signup"]) %}

<!-- Below Navbar -->
<div class="large_container">
	<!-- Side Menu -->
	<div class="col-md-2">
		<div class="list-group" style="margin-top:50px">
			<li class="list-group-item active">Club Types</li>
			{% for typ in [('all', 'All')] + list(ClubType) %}
			<a href="{{ url_for('.allactivities', club_type=typ[0].lower(), page='1') }}" class="list-group-item {% if g.activity.club.type.name==typ[0] %}selected{% endif %}">{{ typ[1] }}</a>
			{% endfor %}
		</div>
	</div>

	<!-- Main Content -->
	<div class="col-md-10" style="padding-right:3em">
		<div class="container" style="max-width: 100%">
			<div class="jumbotron" style="background-color:#3366ff;color:#e6e6e6">
				<h1 class="title">{{ g.activity.name }}</h1>
				<p>{{ g.activity.club.name }}</p>
			</div>
			<div style="font-size:150%;color:#f2f2f2">
				<p>Time: {{ g.activity.date }}</p>
				{% if g.activity.description.raw %}
				<br>
				<p>Description:</p>
				{{ g.activity.description.formatted }}
				{% endif %}
				<br>
			</div>
		</div>
		<div class="container" style="max-width: 100%">
			{% if messages_signup %}
			<ul class="list-group" style="margin-top:0">
				{% for message in messages_signup %}
				<li class="list-group-item">{{ message }}</li>
				{% endfor %}
			</ul>
			{% endif %}
			<center>
			<div class="intro_function">
				<div class="col-sm-6">
					<a href="{{ url_for('clubblueprint.clubintro', club=g.activity.club.callsign) }}">
						<button class="btn btn-info btn-lg">Club Introduction</button>
					</a>
				</div>
				<div class="col-sm-6">
					{% if is_other_act and not is_past and can_join %}
					<form action="{{ url_for('.activity_submit', activity=g.activity.callsign) }}" method="post">
						<input name="_csrf_token" type="hidden" value="{{ csrf_token() }}">
						<input class="btn btn-info btn-lg" type="submit" value="Join">
					</form>
					{% elif is_past %}
					<a href="{{ url_for('.actpost', activity=g.activity.callsign) }}">
						<button class="btn btn-info btn-lg">Activity Post</button>
					</a>
					{% endif %}
				</div>

				{% if has_access and not is_past %}
				<div class="col-sm-6">
					<a href="{{ url_for('.actstatus', activity=g.activity.callsign) }}">
						<button class="btn btn-info btn-lg">Signup Status</button>
					</a>
				</div>
				{% endif %}

				{% if has_access and is_past %}
				<div class="col-sm-6">
					<a href="{{ url_for('.inputatten', activity=g.activity.callsign) }}">
						<button class="btn btn-info btn-lg">Input Attendance</button>
					</a>
				</div>
				<div class="col-sm-6">
					<a href="{{ url_for('.checkatten', activity=g.activity.callsign) }}">
						<button class="btn btn-info btn-lg">Check Attendance</button>
					</a>
				</div>


				<div class="col-sm-6">
					<a href="{{ url_for('.changeactpost', activity=g.activity.callsign) }}">
						<button class="btn btn-info btn-lg">Change Activity Post</button>
					</a>
				</div>
				{% endif %}
			</div>
			</center>
		</div>
	</div>
</div>

<div class="clearfix"></div>

{% endwith %}
{% endblock %}