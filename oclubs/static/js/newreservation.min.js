function ajax_request_for_free_classrooms(){$.ajax({url:$("body").data("updateurl"),data:$("#new_reservation").serialize(),type:"POST",success:function(e){$("#free_classrooms").empty();for(var t=0;t<e.length;t++)$("#free_classrooms").append($("<option></option>").attr("value",e[t][0]).text(e[t][1]))}})}function toggle_sb_app_desc_div(){$("#SBNeeded-0").prop("checked")?$("#sb_app_desc_div").show():$("#SBNeeded-1").prop("checked")&&$("#sb_app_desc_div").hide()}!function(e){e(document).ready(function(){e(document).ajaxStart(function(){e(".loading_gif").show(),e(".finished_loading").hide()}),e(document).ajaxStop(function(){e(".loading_gif").hide(),e(".finished_loading").show(),Date.prototype.today=function(){return this.getFullYear()+"-"+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+"-"+(this.getDate()<10?"0":"")+this.getDate()},Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+(this.getHours()>12?this.getHours()-12:this.getHours())+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()+":"+(this.getSeconds()<10?"0":"")+this.getSeconds()+(this.getHours()>12?" PM":" AM")},e(".finished_loading").html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> &nbsp;&nbsp; Last updated: '+(new Date).today()+" @ "+(new Date).timeNow()+'&nbsp; &nbsp; <button type="button" class="btn btn-default btn-xs" id="refresh_classrooms">Refresh</button>'),e("#refresh_classrooms").click(function(e){ajax_request_for_free_classrooms()})}),ajax_request_for_free_classrooms(),e("#building, #timeslot, #date_selection").on("change",function(e){e.preventDefault(),ajax_request_for_free_classrooms()}),toggle_sb_app_desc_div(),e("#SBNeeded").on("change",function(e){toggle_sb_app_desc_div()})})}(jQuery);