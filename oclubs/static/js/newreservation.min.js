!function(e){e(document).ready(function(){function t(){e.ajax({url:e("body").data("updateurl"),data:e("#new_reservation").serialize(),type:"POST",success:function(t){e("#free_classrooms").empty();for(var n=0;n<t.length;n++)e("#free_classrooms").append(e("<option></option>").attr("value",t[n][0]).text(t[n][1]))}})}function n(){e("#SBNeeded-0").prop("checked")?e("#sb_app_desc_div").show():e("#SBNeeded-1").prop("checked")&&e("#sb_app_desc_div").hide()}e(document).ajaxStart(function(){e(".loading_gif").show(),e(".finished_loading").hide()}),e(document).ajaxStop(function(){e(".loading_gif").hide(),e(".finished_loading").show(),date=new Date,e(".finished_loading").html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> &nbsp;&nbsp; Last updated: '+function(){return date.getFullYear()+"-"+(date.getMonth()+1<10?"0":"")+(date.getMonth()+1)+"-"+(date.getDate()<10?"0":"")+date.getDate()}()+" @ "+function(){return(date.getHours()<10?"0":"")+(date.getHours()>12?date.getHours()-12:date.getHours())+":"+(date.getMinutes()<10?"0":"")+date.getMinutes()+":"+(date.getSeconds()<10?"0":"")+date.getSeconds()+(date.getHours()>12?" PM":" AM")}()+'&nbsp; &nbsp; <button type="button" class="btn btn-default btn-xs" id="refresh_classrooms">Refresh</button>'),e("#refresh_classrooms").click(function(e){t()})}),t(),e("#building, #timeslot, #date_selection").on("change",function(e){e.preventDefault(),t()}),n(),e("#SBNeeded").on("change",function(e){n()})})}(jQuery);